<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <script type="application/shiny-singletons"></script>
  <script type="application/html-dependencies">json2[2014.02.04];jquery[1.12.4];shiny[1.3.2];miniUI[0.1.1.1];selectize[0.11.2];font-awesome[5.3.1];shinyBS[0.61];bootstrap[3.3.7]</script>
  <script src="shared/json2-min.js"></script>
  <script src="shared/jquery.min.js"></script>
  <link href="shared/shiny.css" rel="stylesheet">
  <script src="shared/shiny.min.js"></script>
  <link href="miniUI-0.1.1.1/miniUI.css" rel="stylesheet">
  <link href="shared/selectize/css/selectize.bootstrap3.css" rel="stylesheet">
  <!--[if lt IE 9]>
    <script src="shared/selectize/js/es5-shim.min.js"></script>
    <![endif]-->
    <script src="shared/selectize/js/selectize.min.js"></script>
    <link href="font-awesome-5.3.1/css/all.min.css" rel="stylesheet">
    <link href="font-awesome-5.3.1/css/v4-shims.min.css" rel="stylesheet">
    <link href="sbs/shinyBS.css" rel="stylesheet">
    <script src="sbs/shinyBS.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="shared/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="shared/bootstrap/js/bootstrap.min.js"></script>
    <script src="shared/bootstrap/shim/html5shiv.min.js"></script>
    <script src="shared/bootstrap/shim/respond.min.js"></script>  
    <style type="text/css">
      html, body { width: 100%; height: 100%; overflow: hidden; }
      body { padding: 0px; margin: 0; }
    </style>
    
    <!-- custom styles/js -->
    <link type="text/css" rel="stylesheet" href="custom.css"/>
    <script src="contrasts.js"></script>
  </head>
  
  <body>
    <div class="gadget-container">
      <div class="gadget-title">
        <h1>Explore Single-Cell Clusters</h1>
      </div>
      <div class="gadget-scroll">
        <div class="gadget-content">
          <div class="gadget-absfill" style="position: absolute; top:15px;right:15px;bottom:15px;left:15px;;">
            <div class="row">
              <div class="col-sm-6">
                <!-- analysis selection (e.g. sjia_pbmcs2) -->
                <div class="form-group">
                  <label class="control-label" for="selected_anal">Selected analysis:</label>
                  <div>
                    <select id="selected_anal"></select>
                    <script type="application/json" data-for="selected_anal" data-nonempty="">{}</script>
                  </div>
                </div>
                <br/>
                <!-- cluster (e.g. cell type) selection -->
                <div data-display-if="input.show_rename == false" data-ns-prefix="">
                  <div class="form-group">
                    <label class="control-label" for="selected_cluster">Show marker genes for:</label>
                    <div class="input-group">
                      <div>
                        <select id="selected_cluster"></select> 
                        <script type="application/json" data-for="selected_cluster">{}</script>
                      </div>
                      <span class="input-group-btn">
                        <button id="show_contrasts" type="button" class="btn btn-default sbs-toggle-button squashed-btn" title="Toggle single group comparisons">
                          <i class="fa fa-chevron-right fa-fw"></i>
                        </button>
                      </span>
                      <span class="input-group-btn">
                        <button id="show_rename" type="button" class="btn btn-default sbs-toggle-button" title="Toggle rename cluster">
                          <i class="fa fa-tag fa-fw"></i>
                        </button>
                      </span>
                    </div>
                  </div>
                </div>
                <!-- input for renaming a cluster -->
                <div data-display-if="input.show_rename == true" data-ns-prefix="">
                  <div class="form-group">
                    <label class="control-label" for="new_cluster_name">New cluster name:</label>
                    <div class="input-group">
                      <input id="new_cluster_name" type="text" class="form-control shiny-bound-input" value="" placeholder="">
                      <span class="input-group-btn">
                        <button id="rename_cluster" type="button" class="btn btn-default sbs-toggle-button shiny-bound-input" title="Rename cluster">
                          <i class="fa fa-plus fa-fw"></i>
                        </button>
                      </span>
                    </div>
                  </div>
                </div>
                <br/>
                <!-- input for selecting the gene to show expression for -->
                <div class="form-group">
                  <label class="control-label" for="gene">Show expression for:</label>
                  <div class="input-group">
                    <div>
                      <select id="gene"></select> 
                      <script type="application/json" data-for="gene">{}</script>
                    </div>
                    <span class="input-group-btn">
                      <button id="genecards" type="button" class="btn btn-default action-button" title="Go to GeneCards">
                        <i class="fa fa-external-link-alt fa-fw"></i>
                      </button>
                    </span>
                  </div>
                </div>
                <br/>
                <div id="groups_toggle" class="shiny-html-output"></div>
              </div>
              <!-- plot of cell clusters -->
              <div class="col-sm-6">
                <div id="cluster_plot" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
              </div>
            </div>
            <hr/>
            <!-- plot of marker genes -->
            <div class="col-sm-6 col-lg-6 col-lg-push-6">
              <div id="marker_plot" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
            </div>
            <!-- BioGPS plot -->
            <div class="col-sm-6 col-lg-6 col-lg-pull-6">
              <div id="biogps" class="shiny-plot-output" style="width: 100% ; height: 400px"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  </body>
  </html>